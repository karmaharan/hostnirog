<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Health Information Form</title>
    <link rel="icon" type="image/x-ico" href="{{ url_for('static', filename='static/favicon.ico') }}">
    <link rel="icon" type="image/x-ico" href="{{ url_for('static', filename='static/favicon.ico') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='static/favicon.ico') }}">
    <link rel="apple-touch-icon" href="{{ url_for('static', filename='static/apple-touch-icon') }}">

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            grid-gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        input[type="text"],
        input[type="number"],
        input[type="time"],
        select {
            width: 100%;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }

        button[type="submit"] {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

        button[type="submit"]:hover {
            background-color: #45a049;
        }
        .container {
    max-width: 1000px; /* Adjust as needed */
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* Change auto-fit to auto-fill */
    grid-gap: 20px;
    padding: 20px;
    box-sizing: border-box; /* Ensure padding is included in the width */
    background-color: #f2f2f2;
}
.meal-slot {
            display: flex;
            align-items: center;
        }
        .meal-slot input {
            margin-right: 10px;
        }
        .add-button {
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 0.5em 1em;
            font-size: 1em;
            border-radius: 5px;
        }
    </style>
    <script>
        function addMealSlot() {
            const container = document.getElementById('meal_slots_container');
            const newSlot = document.createElement('div');
            newSlot.className = 'meal-slot';
            newSlot.innerHTML = `
                <input type="text" name="meal_names" placeholder="Meal name">
                <input type="time" name="meal_times">
            `;
            container.appendChild(newSlot);
        }
    </script>
</head>
<body>
    <h1>Health Information Form</h1>
<div class="container">
    <form method="POST" action="{{ url_for('index') }}">
        <div class="form-group">
            <label for="country">Country:</label>
            <input type="text" id="country" name="country" required>
        </div>
    
        <div class="form-group">
            <label for="region">Region:</label>
            <input type="text" id="region" name="region" required>
        </div>

        <div class="form-group">
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>
        </div>
    
        <div class="form-group">
            <label for="age">Age:</label>
            <input type="number" id="age" name="age" min="1" max="120" required>
        </div>
    
        <div class="form-group">
            <label for="sleep_time">Sleep Time:</label>
            <input type="time" id="sleep_time" name="sleep_time" value="21:00" required>
        </div>
    
        <div class="form-group">
            <label for="wake_time">Wake Time:</label>
            <input type="time" id="wake_time" name="wake_time" value="06:00" required>
        </div>
    
        <div class="form-group">
            <label for="weight">Weight (kg):</label>
            <input type="number" id="weight" name="weight" step="0.01" min="0.1" required>
        </div>
    
        <div class="form-group">
            <label for="height-slider">Height:</label>
            <input type="range" id="height-slider" name="height-slider" min="48" max="96" value="66" oninput="updateHeightDisplay(this.value)">
            <span id="height-display">5 feet 6 inches</span>
            <input type="hidden" id="height_feet" name="height_feet" value="5">
            <input type="hidden" id="height_inches" name="height_inches" value="6">
        </div>

        <div class="form-group">
            <label for="activity_level">Activity Level:</label>
            <select id="activity_level" name="activity_level" required>
                <option value="sedentary">Sedentary (little or no exercise)</option>
                <option value="light">Lightly active (light exercise/sports 1-3 days/week)</option>
                <option value="moderate">Moderately active (moderate exercise/sports 3-5 days/week)</option>
                <option value="very_active">Very active (hard exercise/sports 6-7 days a week)</option>
                <option value="extra_active">Extra active (very hard exercise/sports & physical job or 2x training)</option>
            </select>
        </div>
    
        <div class="form-group">
            <label for="goal">Goal:</label>
            <select id="goal" name="goal" required>
                <option value="lose_weight">Lose Weight</option>
                <option value="maintain_weight">Maintain Weight</option>
                <option value="gain_weight">Gain Weight</option>
            </select>
        </div>
    
        <div class="form-group">
            <label for="occupation">Occupation:</label>
            <input type="text" id="occupation" name="occupation">
        </div>
    
        <div class="form-group">
            <label for="specific_diet">Specific Diet:</label>
            <input type="text" id="specific_diet" name="specific_diet">
        </div>
    
        <div class="form-group">
            <label for="alcohol_consumption">Alcohol Consumption:</label>
            <input type="text" id="alcohol_consumption" name="alcohol_consumption">
        </div>
    
        <div class="form-group">
            <label for="smoker">Smoker:</label>
            <input type="text" id="smoker" name="smoker">
        </div>
    
        <div class="form-group">
            <label for="meal_times">Meal Times:</label>
            <div id="meal_slots_container">
                <div class="meal-slot">
                    <input type="text" name="meal_names" value="Breakfast" readonly>
                    <input type="time" name="meal_times" value="08:00">
                </div>
                <div class="meal-slot">
                    <input type="text" name="meal_names" value="Lunch" readonly>
                    <input type="time" name="meal_times" value="12:00">
                </div>
                <div class="meal-slot">
                    <input type="text" name="meal_names" value="Dinner" readonly>
                    <input type="time" name="meal_times" value="18:00">
                </div>
            </div>
            <button type="button" class="add-button" onclick="addMealSlot()">+</button>
        </div>
    
        <div class="form-group">
            <label for="food_allergies">Food Allergies:</label>
            <input type="text" id="food_allergies" name="food_allergies">
        </div>
    
        <div class="form-group">
            <label for="eat_out_frequency">Eat Out Frequency:</label>
            <input type="text" id="eat_out_frequency" name="eat_out_frequency">
        </div>
    
        <div class="form-group">
            <label for="exercise">Exercise:</label>
            <input type="text" id="exercise" name="exercise">
        </div>
    
        <div class="form-group">
            <label for="health_conditions">Health Conditions:</label>
            <input type="text" id="health_conditions" name="health_conditions">
        </div>
    
        <div class="form-group">
            <label for="dietary_goals">Dietary Goals:</label>
            <input type="text" id="dietary_goals" name="dietary_goals">
        </div>
    
        <div class="form-group">
            <label for="favorite_foods">Favorite Foods:</label>
            <input type="text" id="favorite_foods" name="favorite_foods">
        </div>
    
        <div class="form-group">
            <label for="eating_pace">Eating Pace:</label>
            <input type="text" id="eating_pace" name="eating_pace">
        </div>
    
        <div class="form-group">
            <label for="cooking_frequency">Cooking Frequency:</label>
            <input type="text" id="cooking_frequency" name="cooking_frequency">
        </div>
    
        <div class="form-group">
            <label for="nutrient_targets">Nutrient Targets:</label>
            <input type="text" id="nutrient_targets" name="nutrient_targets">
        </div>
    
        <div class="form-group">
            <label for="daily_routine">Daily Routine:</label>
            <input type="text" id="daily_routine" name="daily_routine">
        </div>
    
        <div class="form-group">
            <label for="travel_frequency">Travel Frequency:</label>
            <input type="text" id="travel_frequency" name="travel_frequency">
        </div>
    
        <div class="form-group">
            <label for="stressors_triggers">Stressors/Triggers:</label>
            <input type="text" id="stressors_triggers" name="stressors_triggers">
        </div>
    
        <div class="form-group">
            <label for="health_motivation">Health Motivation:</label>
            <input type="text" id="health_motivation" name="health_motivation">
        </div>
    
        <div class="form-group">
            <label for="negative_effects">Negative Effects:</label>
            <input type="text" id="negative_effects" name="negative_effects">
        </div>
    
        <div class="form-group">
            <label for="health_concerns">Health Concerns:</label>
            <input type="text" id="health_concerns" name="health_concerns">
        </div>
    
        <div class="form-group">
            <label for="social_eating_style">Social Eating Style:</label>
            <input type="text" id="social_eating_style" name="social_eating_style">
        </div>
    
        <div class="form-group">
            <label for="hydration_method">Hydration Method:</label>
            <input type="text" id="hydration_method" name="hydration_method">
        </div>
    
        <div class="form-group">
            <label for="meal_prep_method">Meal Prep Method:</label>
            <input type="text" id="meal_prep_method" name="meal_prep_method">
        </div>
    
        <div class="form-group">
            <label for="dietary_restrictions">Dietary Restrictions:</label>
            <input type="text" id="dietary_restrictions" name="dietary_restrictions">
        </div>
            <!-- Additional form fields -->
            <div class="form-group">
                <label>
                    
                    By agreeing, you allow us to use your data for personalize AI responses and train our AI model.
                </label>
            </div>

            <button type="button" id="nextBtn" onclick="nextStep()">Next</button>

        
            <!-- Submit button -->
            <div id="submitBtn" style="display: none;">
                <button type="submit">Submit</button>
            </div>
        </form>
    </div>
</div>
<script>
function updateHeightDisplay(heightInInches) {
    const feet = Math.floor(heightInInches / 12);
    const inches = heightInInches % 12;
    const heightDisplay = document.getElementById('height-display');
    heightDisplay.textContent = `${feet} feet ${inches} inches`;

    // Update hidden input fields
    document.getElementById('height_feet').value = feet;
    document.getElementById('height_inches').value = inches;
}
</script>
    <script>
        let currentStep = 0;
        const formGroups = document.querySelectorAll('.form-group');
        const submitBtn = document.getElementById('submitBtn');
        const nextBtn = document.getElementById('nextBtn'); // Corrected targeting of Next button

        function showStep(step) {
            const startIndex = step * 3;
            const endIndex = Math.min(startIndex + 3, formGroups.length);
            formGroups.forEach((group, index) => {
                if (index >= startIndex && index < endIndex) {
                    group.style.display = 'block';
                } else {
                    group.style.display = 'none';
                }
            });
        }


    function validateStep() {
        const startIndex = currentStep * 3;
        const endIndex = Math.min(startIndex + 3, formGroups.length);
        let isValid = true;
        for (let i = startIndex; i < endIndex; i++) {
            const fields = formGroups[i].querySelectorAll('input, select');
            fields.forEach(field => {
                if (!field.value.trim()) {
                    isValid = false;
                    field.style.border = '1px solid red';
                }
            });
        }
        return isValid;
    }



        function nextStep() {
            if (validateStep()) {
                if (currentStep < Math.ceil(formGroups.length / 3) - 1) {
                    currentStep++;
                    showStep(currentStep);
                }
                if (currentStep === Math.ceil(formGroups.length / 3) - 1) {
                    nextBtn.style.display = 'none';
                    submitBtn.style.display = 'block';
                }
            }
        }

        // Show the first step initially
        showStep(currentStep);
    </script>
    <script>
        document.querySelector('form').onsubmit = function(event) {
            const formGroups = document.querySelectorAll('.form-group');
            let isValid = true;
            formGroups.forEach(group => {
                const fields = group.querySelectorAll('input, select');
                fields.forEach(field => {
                    if (!field.value.trim()) {
                        isValid = false;
                        field.style.border = '1px solid red';
                    }
                });
            });
            if (!isValid) {
                event.preventDefault();
            }
        };
    </script>
    <script>
        function submitForm() {
            const form = document.getElementById('userDataForm');


            // For example, you can use fetch API to send the form data to backend
            fetch('/submit', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (response.ok) {
                    // Handle successful form submission
                    console.log('Form submitted successfully');
                } else {
                    // Handle errors
                    console.error('Error submitting form');
                }
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>
    
</body>
</html>